# Page-Replacement Algorithms | 页面置换算法

## LRU | 最近最久未使用

FIFO 置换算法性能之所以较差，是因为它所依据的条件是各个页面调入内存的时间，而页面调入的先后并不能反映页面的使用情况。最近最久未使用 (LRU) 的页面置换算法，是根据页面调入内存后的使用情况进行决策的。由于无法预测各页面将来的使用情况，只能利用 “ 最近的过去 ” 作为 “ 最近的将来 ” 的近似，因此，LRU 置换算法是选择最近最久未使用的页面予以淘汰。该算法赋予每个页面一个访问字段，用来记录一个页面自上次被访问以来所经历的时间 t，当须淘汰一个页面时，选择现有页面中其 t 值最大的，即最近最久未使用的页面予以淘汰。利用 LRU 算法对上例进行页面置换的结果如下图所示。当进程第一次对页面 2 进行访问时，由于页面 7 是最近最久未被访问的，故将它置换出去。当进程第一次对页面 3 进行访问时，第 1 页成为最近最久未使用的页，将它换出。由图可以看出，前 5 个时间的图像与最佳置换算法时的相同，但这并非是必然的结果。因为，最佳置换算法是从 “ 向后看 ” 的观点出发的，即它是依据以后各页的使用情况；而 LRU 算法则是 “ 向前看 ” 的，即根据各页以前的使用情况来判断，而页面过去和未来的走向之间并无必然的联系。 ![](https://coding.net/u/hoteam/p/Cache/git/raw/master/2016/9/1/F3A32A03-A8B7-4651-88BE-3F7B7EC2949F.png)

在一个请求分页系统中，采用 LRU 页面置换算法，一个作业的页面走向为 1、2 、 3、4 、 2、1 、 5、6 、 2、1 、 2、3 、 7、6 、 3、2 、 1、2 、 3、6 。当分配给该作业的物理块数为 5 时，在访问过程中所发生的缺页次数为 5 次。
